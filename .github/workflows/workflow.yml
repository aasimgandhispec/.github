name: Generate CSV

on:
  push:
    branches:
      - main  # Adjust the branch name as needed

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'  # Specify the Python version you want to use

      - name: Run Python script
        uses: jannekem/run-python-script-action@v1
        with:
          script: |
            # Your Python script goes here
            import csv

            # Example: Generate a CSV file
            data = [
                {"Name": "Alice", "Age": 30},
                {"Name": "Bob", "Age": 25},
                # Add more data as needed
            ]

            csv_file = "output.csv"
            with open(csv_file, "w", newline="") as f:
                writer = csv.DictWriter(f, fieldnames=["Name", "Age"])
                writer.writeheader()
                writer.writerows(data)

            print(f"CSV file '{csv_file}' generated successfully!")
